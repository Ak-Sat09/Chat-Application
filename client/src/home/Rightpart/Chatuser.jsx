import React from "react";
import useConversation from "../../zustand/useConversation.js";
import { useSocketContext } from "../../context/SocketContext.jsx";
import { CiMenuFries } from "react-icons/ci";

function Chatuser() {
  const { selectedConversation } = useConversation();
  const { onlineUsers } = useSocketContext();
  const getOnlineUsersStatus = (userId) => {
    return onlineUsers.includes(userId) ? "Online" : "Offline";
  };

  return (
    <div className="relative flex items-center h-16 justify-between bg-gray-900 hover:bg-gray-800 duration-300 rounded-md px-4">
      <label
        htmlFor="my-drawer-2"
        className="btn btn-ghost drawer-button lg:hidden absolute left-4 top-1/2 transform -translate-y-1/2"
      >
        <CiMenuFries className="text-white text-2xl" />
      </label>
      <div className="flex items-center gap-4">
        <div className="flex items-center justify-center w-16 h-16 bg-gray-700 rounded-full">
          <img
            src="data:image/jpeg;base64,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"
            alt="User Avatar"
            className="w-full h-full rounded-full object-cover"
          />
        </div>
        <div className="text-gray-300">
          <h1 className="text-lg font-semibold">{selectedConversation.fullname}</h1>
          <span className="text-sm text-gray-400">
            {getOnlineUsersStatus(selectedConversation._id)}
          </span>
        </div>
      </div>
    </div>
  );
}

export default Chatuser;
